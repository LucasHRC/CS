<!DOCTYPE html>
<html>
  <head>
    <title>Contrôle de la LED RGB</title>
    <script>
      let connection;

      window.onload = () => {
        connection = new WebSocket('ws://' + '10.1.224.101' + ':81/');

        connection.onopen = () => {
          console.log("Connected to WebSocket server");
        };

        connection.onerror = error => {
          console.error("WebSocket Error", error);
        };

        connection.onmessage = event => {
          console.log("Server says:", event.data);
        };
      };

      function sendColor() {
        const colorInput = document.getElementById("color").value;
        if (connection.readyState === WebSocket.OPEN) {
          connection.send(colorInput);
        } else {
          alert("WebSocket not connected");
        }
      }
    </script>
  </head>
  <body>
    <h1>Contrôle de la LED RGB</h1>
    <label for="color">Code couleur (#RRGGBB):</label>
    <input type="text" id="color" placeholder="#FF5733">
    <button onclick="sendColor()">Envoyer</button>
  </body>
</html>
