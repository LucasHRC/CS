<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LED Control</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">

        <!-- Menu dÃ©roulant pour choisir un drapeau -->
        <div class="input-container">
            <select id="flagSelector">
                <option value="fr">France</option>
                <option value="it">Italy</option>
                <option value="de">Germany</option>
                <option value="al">Albania</option>
                <option value="dz">Algeria</option>
                <option value="ad">Andorra</option>
                <option value="ao">Angola</option>
                <option value="ar">Argentina</option>
                <option value="am">Armenia</option>
                <option value="au">Australia</option>
                <option value="at">Austria</option>
                <option value="bh">Bahrain</option>
                <option value="bd">Bangladesh</option>
                <option value="be">Belgium</option>
                <option value="bz">Belize</option>
                <option value="bo">Bolivia</option>
                <option value="br">Brazil</option>
                <option value="ca">Canada</option>
                <option value="cl">Chile</option>
                <option value="co">Colombia</option>
                <option value="cz">Czech Republic</option>
                <option value="es">Spain</option>
                <option value="gr">Greece</option>
                <option value="hr">Croatia</option>
                <option value="hu">Hungary</option>
                <option value="in">India</option>
                <option value="id">Indonesia</option>
                <option value="ir">Iran</option>
                <option value="ie">Ireland</option>
                <option value="it">Italy</option>
                <option value="jp">Japan</option>
                <option value="ke">Kenya</option>
                <option value="kr">South Korea</option>
                <option value="lt">Lithuania</option>
                <option value="lv">Latvia</option>
                <option value="my">Malaysia</option>
                <option value="ng">Nigeria</option>
                <option value="pl">Poland</option>
                <option value="pt">Portugal</option>
                <option value="ro">Romania</option>
                <option value="ru">Russia</option>
                <option value="sk">Slovakia</option>
                <option value="tr">Turkey</option>
                <option value="us">United States</option>
            </select>
        </div>

        <!-- Section pour les LEDs -->
        <div class="leds-container">
            <div id="led1" class="led"></div>
            <div id="led2" class="led"></div>
            <div id="led3" class="led"></div>
            <div id="soundLed" class="led"></div>
        </div>

        <!-- Curseur pour choisir la couleur de la LED sonore -->
        <div class="input-container">
            <h3>Choisissez la couleur de la LED sonore :</h3>
            <input type="color" id="colorPicker" value="#FF0000">
        </div>
        
    </div>

    <script>
        const led1 = document.getElementById('led1');
        const led2 = document.getElementById('led2');
        const led3 = document.getElementById('led3');
        const soundLed = document.getElementById('soundLed');
        const flagSelector = document.getElementById('flagSelector');
        const colorPicker = document.getElementById('colorPicker');

        const flags = {
            fr: ['#0055A4', '#FFFFFF', '#EF4135'],
            it: ['#009639', '#FFFFFF', '#CE2B37'],
            de: ['#000000', '#DD0000', '#FFCE00'],
            al: ['#e41c1c', '#000000', '#ffffff'],
            dz: ['#006747', '#ffffff', '#d7112d'],
            ad: ['#ffcc00', '#002b7f', '#ff0000'],
            ao: ['#c00', '#fff', '#ffcc00'],
            ar: ['#74acdf', '#ffffff', '#f1c40f'],
            am: ['#d81e5b', '#3e62ac', '#fcd03c'],
            au: ['#002c5f', '#ffffff', '#ffcc00'],
            at: ['#ed1c24', '#ffffff', '#ed1c24'],
            bh: ['#9b2d20', '#ffffff', '#9b2d20'],
            bd: ['#006a4e', '#ffffff', '#f42a41'],
            be: ['#fcd116', '#ec1c24', '#1b6fa8'],
            bz: ['#e03c31', '#fff', '#e03c31'],
            bo: ['#d9102c', '#f6d02f', '#009639'],
            br: ['#00a859', '#ffdc00', '#3e4095'],
            ca: ['#ff0000', '#ffffff', '#ff0000'],
            cl: ['#d52b1e', '#ffffff', '#0033a0'],
            co: ['#fcd116', '#0038a8', '#d62e3a'],
            cz: ['#004d97', '#ffffff', '#d7142b'],
            es: ['#c60c30', '#f1bf00', '#c60c30'],
            gr: ['#0d5eaf', '#ffffff', '#b8b8b8'],
            hr: ['#f33a4d', '#0069ad', '#ffffff'],
            hu: ['#c8102e', '#ffffff', '#00a859'],
            in: ['#f93b2e', '#ffffff', '#009e49'],
            id: ['#ff0000', '#ffffff', '#ffffff'],
            ir: ['#008c45', '#ffffff', '#d71a34'],
            ie: ['#169b62', '#ffffff', '#ff6f20'],
            jp: ['#ffffff', '#ffffff', '#bc002d'],
            ke: ['#e30b17', '#000000', '#f6f7f5'],
            kr: ['#003478', '#ffffff', '#c60c30'],
            lt: ['#007a3d', '#ffffff', '#fcd116'],
            lv: ['#9e2a2f', '#ffffff', '#002b7f'],
            my: ['#009639', '#ffffff', '#ffcc00'],
            ng: ['#006746', '#ffffff', '#d6d6d6'],
            pl: ['#dc143c', '#ffffff', '#ffcc00'],
            pt: ['#0066b3', '#ffffff', '#ff0000'],
            ro: ['#001f7d', '#ffffff', '#d52b1e'],
            ru: ['#000000', '#ffffff', '#d71a34'],
            sk: ['#0d5eaf', '#ffffff', '#e2001a'],
            tr: ['#e30b17', '#ffffff', '#e30b17'],
            us: ['#bd3d44', '#ffffff', '#004b87'],
        };

        flagSelector.addEventListener('change', function() {
            const selectedFlag = this.value;
            const colors = flags[selectedFlag];
            led1.style.backgroundColor = colors[0];
            led2.style.backgroundColor = colors[1];
            led3.style.backgroundColor = colors[2];
        });

        colorPicker.addEventListener('input', function() {
            const selectedColor = colorPicker.value;
            soundLed.style.backgroundColor = selectedColor;
        });

        setInterval(function() {
            const randomIntensity = Math.random();
            const baseColor = colorPicker.value;
            const darkenFactor = Math.floor(randomIntensity * 100);
            const darkenedColor = darkenColor(baseColor, darkenFactor);
            soundLed.style.backgroundColor = darkenedColor;
        }, 1000);

        function darkenColor(hex, percent) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);

            const darken = (color) => Math.max(0, Math.min(255, color - (color * percent / 100)));

            const newR = darken(r);
            const newG = darken(g);
            const newB = darken(b);

            return `#${newR.toString(16).padStart(2, '0')}${newG.toString(16).padStart(2, '0')}${newB.toString(16).padStart(2, '0')}`;
        }
    </script>
</body>
</html>
